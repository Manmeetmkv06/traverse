{"ast":null,"code":"// import React,{useRef,useState} from \"react\";\n// import '../styles/tour-details.css';\n// import { Container,Row,Col,Form, ListGroup } from \"reactstrap\";\n// import { useParams } from \"react-router-dom\";\n// import tourData from '../assets/data/tours';\n// import calculateAvgRating from \"../utils/avgRating\";\n// import avatar from '../assets/images/avatar.jpg';\n// import Booking from \"../components/Booking/Booking\";\n// import Newsletter from \"../shared/Newsletter\";\n\n// const TourDetails=()=>{\n//     const {id}=useParams();\n//     const reviewmsgRef=useRef('');\n//     const [tourRating,setTourRating]=useState(null);\n// // this is an static data later we will call our API and load our data fro database\n//     const tour=tourData.find(tour=>tour.id === id);\n// // destructure properties from tour object\n//     const {photo, title, desc, price,address, reviews, city, distance, maxGroupSize}= tour;\n//     const {totalRating,avgRating}=calculateAvgRating(reviews);\n//     const options = { day: \"numeric\", month: \"long\", year: \"numeric\" };\n\n//      //submit request to the server\n//     const submitHandler=e=>{\n// e.preventDefault();\n// const reviewtext=reviewmsgRef.current.value\n// alert(`${reviewtext} ${tourRating}`);\n//     }\n//     return <>\n//     <section>\n//         <Container>\n//             <Row>\n//                 <Col lg=\"8\">\n//                 <div className=\"tour_content\"> <img src={photo} alt=\"\" />\n//                 <div className=\"tour_info\"> <h2>{title}</h2>\n//                 <div className=\"d-flex align-items-center gap-5\">\n//                 <span className=\"tour__rating d-flex align-items-center gap-1\">\n//                 <i class=\"ri-star-fill\" style={{'color':\"var(--secondary-color)\"}}></i>\n//                 {avgRating===0?null:avgRating}\n//                 {totalRating==0?('Not rated'):(<span>({reviews?.length})</span>)}\n\n//                 </span>\n//                 <span>\n//                 <i class=\"ri-map-pin-user-fill\"></i>{address}\n//                 </span>\n//                 </div>\n//                 <div className=\"tour__extra-details\">\n//                     <span>\n//                     <i class=\"ri-map-pin-2-line\"></i>{city}\n//                     <i class=\"ri-money-dollar-circle-fill\"></i>$ {price} /per person\n//                     <i class=\"ri-map-pin-time-line\"></i> {distance} KM\n//                     <i class=\"ri-group-line\"></i>{maxGroupSize} People\n//                     </span>\n//                 </div>\n//                 <h5>Description</h5> \n//                 <p>{desc}</p>\n//                 </div>\n//                 <div className=\"tour_reviews mt-4\">\n//                     <h4>Reviews ({reviews?.length} reviews)</h4>\n//                     <Form onSubmit={submitHandler}>\n//                         <div className=\"d-flex align-items-center gap-3 mb-4 rating_group\">\n//                             <span onClick={()=>setTourRating(1)}>1<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(2)}>2<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(3)}>3<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(4)}>4<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(5)}>5<i class=\"ri-star-s-fill\"></i></span>\n//                         </div>\n//                         <div className=\"review__input\">\n//                             <input type=\"text\" ref={reviewmsgRef} placeholder=\"Share your thoughts\" required/>\n//                             <button className=\"button btn primary__btn text-white\" type=\"submit\">Submit</button>\n//                         </div>\n//                     </Form>\n//                     <ListGroup className=\"user__reviews\">\n//                         {reviews?.map(review=>(\n//                             <div className=\"review__item\">\n//                             <img src={avatar} alt=\"\"/>\n//                             <div className=\"w-100\">\n//                                 <div className=\"d-flex align-items-center justify-content-between\">\n//                                     <div>\n//                                         <h5>Manmeet Kaur</h5>\n//                                         <p>{new Date('09-03-2024').toLocaleDateString(\"en-US\",options)}</p>\n//                                     </div>\n//                                     <span className=\"d-flex align-items-center\">\n//                                     5<i class=\"ri-star-fill\"></i>\n//                                     </span>\n//                                 </div>\n//                                 <h6>Amazing Tour</h6>\n//                             </div>\n//                         </div>\n//                         ))}\n//                     </ListGroup>\n//                 </div>\n//             </div>\n//                 </Col>\n//                 <Col lg='4'>\n//                 <Booking tour={tour} avgRating={avgRating}/>\n//                 </Col>\n//             </Row>\n//         </Container>\n//     </section>\n//     <Newsletter/>\n//     </>;\n// };\n// export default TourDetails;\n// import React, { useRef, useState, useContext } from \"react\";\n// import '../styles/tour-details.css';\n// import { Container, Row, Col, Form, ListGroup } from \"reactstrap\";\n// import { useParams, useNavigate } from \"react-router-dom\";\n// import tourData from '../assets/data/tours';\n// import calculateAvgRating from \"../utils/avgRating\";\n// import avatar from '../assets/images/avatar.jpg';\n// import Booking from \"../components/Booking/Booking\";\n// import Newsletter from \"../shared/Newsletter\";\n// import { AuthContext } from \"../context/AuthContext\"; // Import your Auth Context\n\n// const TourDetails = () => {\n//   const { id } = useParams();\n//   const reviewmsgRef = useRef('');\n//   const [tourRating, setTourRating] = useState(null);\n//   const { user } = useContext(AuthContext); // Use context to check if user is logged in\n//   const navigate = useNavigate();\n\n//   // Static data, replace with your API call\n//   const tour = tourData.find(tour => tour.id === id);\n//   const { photo, title, desc, price, address, reviews, city, distance, maxGroupSize } = tour;\n//   const { totalRating, avgRating } = calculateAvgRating(reviews);\n\n//   const submitHandler = e => {\n//     e.preventDefault();\n//     const reviewtext = reviewmsgRef.current.value;\n//     alert(`${reviewtext} ${tourRating}`);\n//   };\n\n//   const handleBooking = () => {\n//     if (!user) {\n//       navigate('/login'); // Redirect to login if not logged in\n//     } else {\n//       navigate('/thank-you'); // Redirect to thank you page after booking\n//     }\n//   };\n\n//   return (\n//     <>\n//       <section>\n//         <Container>\n//           <Row>\n//             <Col lg=\"8\">\n//               <div className=\"tour_content\">\n//                 <img src={photo} alt=\"\" />\n//                 <div className=\"tour_info\">\n//                   <h2>{title}</h2>\n//                   <div className=\"d-flex align-items-center gap-5\">\n//                     <span className=\"tour__rating d-flex align-items-center gap-1\">\n//                       <i className=\"ri-star-fill\" style={{ color: \"var(--secondary-color)\" }}></i>\n//                       {avgRating === 0 ? null : avgRating}\n//                       {totalRating === 0 ? 'Not rated' : <span>({reviews?.length})</span>}\n//                     </span>\n//                     <span>\n//                       <i className=\"ri-map-pin-user-fill\"></i>{address}\n//                     </span>\n//                   </div>\n//                   <div className=\"tour__extra-details\">\n//                     <span>\n//                       <i className=\"ri-map-pin-2-line\"></i>{city}\n//                       <i className=\"ri-money-dollar-circle-fill\"></i>$ {price} /per person\n//                       <i className=\"ri-map-pin-time-line\"></i> {distance} KM\n//                       <i className=\"ri-group-line\"></i>{maxGroupSize} People\n//                     </span>\n//                   </div>\n//                   <h5>Description</h5>\n//                   <p>{desc}</p>\n//                 </div>\n//                 <div className=\"tour_reviews mt-4\">\n//                   <h4>Reviews ({reviews?.length} reviews)</h4>\n//                   <Form onSubmit={submitHandler}>\n//                     <div className=\"d-flex align-items-center gap-3 mb-4 rating_group\">\n//                       {[...Array(5)].map((_, index) => (\n//                         <span key={index + 1} onClick={() => setTourRating(index + 1)}>\n//                           {index + 1}<i className=\"ri-star-s-fill\"></i>\n//                         </span>\n//                       ))}\n//                     </div>\n//                     <div className=\"review__input\">\n//                       <input type=\"text\" ref={reviewmsgRef} placeholder=\"Share your thoughts\" required />\n//                       <button className=\"button btn primary__btn text-white\" type=\"submit\">Submit</button>\n//                     </div>\n//                   </Form>\n//                   <ListGroup className=\"user__reviews\">\n//                     {reviews?.map(review => (\n//                       <div className=\"review__item\" key={review.id}>\n//                         <img src={avatar} alt=\"\" />\n//                         <div className=\"w-100\">\n//                           <div className=\"d-flex align-items-center justify-content-between\">\n//                             <div>\n//                               <h5>Manmeet Kaur</h5>\n//                               <p>{new Date('09-03-2024').toLocaleDateString(\"en-US\", { day: \"numeric\", month: \"long\", year: \"numeric\" })}</p>\n//                             </div>\n//                             <span className=\"d-flex align-items-center\">\n//                               5<i className=\"ri-star-fill\"></i>\n//                             </span>\n//                           </div>\n//                           <h6>Amazing Tour</h6>\n//                         </div>\n//                       </div>\n//                     ))}\n//                   </ListGroup>\n//                 </div>\n//               </div>\n//             </Col>\n//             <Col lg='4'>\n//               <Booking tour={tour} avgRating={avgRating} onBooking={handleBooking} />\n//             </Col>\n//           </Row>\n//         </Container>\n//       </section>\n//       <Newsletter />\n//     </>\n//   );\n// };\n\n// export default TourDetails;","map":{"version":3,"names":[],"sources":["C:/Users/MANMEET KAUR/Desktop/tour-management/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["// import React,{useRef,useState} from \"react\";\n// import '../styles/tour-details.css';\n// import { Container,Row,Col,Form, ListGroup } from \"reactstrap\";\n// import { useParams } from \"react-router-dom\";\n// import tourData from '../assets/data/tours';\n// import calculateAvgRating from \"../utils/avgRating\";\n// import avatar from '../assets/images/avatar.jpg';\n// import Booking from \"../components/Booking/Booking\";\n// import Newsletter from \"../shared/Newsletter\";\n\n// const TourDetails=()=>{\n//     const {id}=useParams();\n//     const reviewmsgRef=useRef('');\n//     const [tourRating,setTourRating]=useState(null);\n// // this is an static data later we will call our API and load our data fro database\n//     const tour=tourData.find(tour=>tour.id === id);\n// // destructure properties from tour object\n//     const {photo, title, desc, price,address, reviews, city, distance, maxGroupSize}= tour;\n//     const {totalRating,avgRating}=calculateAvgRating(reviews);\n//     const options = { day: \"numeric\", month: \"long\", year: \"numeric\" };\n\n//      //submit request to the server\n//     const submitHandler=e=>{\n// e.preventDefault();\n// const reviewtext=reviewmsgRef.current.value\n// alert(`${reviewtext} ${tourRating}`);\n//     }\n//     return <>\n//     <section>\n//         <Container>\n//             <Row>\n//                 <Col lg=\"8\">\n//                 <div className=\"tour_content\"> <img src={photo} alt=\"\" />\n//                 <div className=\"tour_info\"> <h2>{title}</h2>\n//                 <div className=\"d-flex align-items-center gap-5\">\n//                 <span className=\"tour__rating d-flex align-items-center gap-1\">\n//                 <i class=\"ri-star-fill\" style={{'color':\"var(--secondary-color)\"}}></i>\n//                 {avgRating===0?null:avgRating}\n//                 {totalRating==0?('Not rated'):(<span>({reviews?.length})</span>)}\n                \n//                 </span>\n//                 <span>\n//                 <i class=\"ri-map-pin-user-fill\"></i>{address}\n//                 </span>\n//                 </div>\n//                 <div className=\"tour__extra-details\">\n//                     <span>\n//                     <i class=\"ri-map-pin-2-line\"></i>{city}\n//                     <i class=\"ri-money-dollar-circle-fill\"></i>$ {price} /per person\n//                     <i class=\"ri-map-pin-time-line\"></i> {distance} KM\n//                     <i class=\"ri-group-line\"></i>{maxGroupSize} People\n//                     </span>\n//                 </div>\n//                 <h5>Description</h5> \n//                 <p>{desc}</p>\n//                 </div>\n//                 <div className=\"tour_reviews mt-4\">\n//                     <h4>Reviews ({reviews?.length} reviews)</h4>\n//                     <Form onSubmit={submitHandler}>\n//                         <div className=\"d-flex align-items-center gap-3 mb-4 rating_group\">\n//                             <span onClick={()=>setTourRating(1)}>1<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(2)}>2<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(3)}>3<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(4)}>4<i class=\"ri-star-s-fill\"></i></span>\n//                             <span onClick={()=>setTourRating(5)}>5<i class=\"ri-star-s-fill\"></i></span>\n//                         </div>\n//                         <div className=\"review__input\">\n//                             <input type=\"text\" ref={reviewmsgRef} placeholder=\"Share your thoughts\" required/>\n//                             <button className=\"button btn primary__btn text-white\" type=\"submit\">Submit</button>\n//                         </div>\n//                     </Form>\n//                     <ListGroup className=\"user__reviews\">\n//                         {reviews?.map(review=>(\n//                             <div className=\"review__item\">\n//                             <img src={avatar} alt=\"\"/>\n//                             <div className=\"w-100\">\n//                                 <div className=\"d-flex align-items-center justify-content-between\">\n//                                     <div>\n//                                         <h5>Manmeet Kaur</h5>\n//                                         <p>{new Date('09-03-2024').toLocaleDateString(\"en-US\",options)}</p>\n//                                     </div>\n//                                     <span className=\"d-flex align-items-center\">\n//                                     5<i class=\"ri-star-fill\"></i>\n//                                     </span>\n//                                 </div>\n//                                 <h6>Amazing Tour</h6>\n//                             </div>\n//                         </div>\n//                         ))}\n//                     </ListGroup>\n//                 </div>\n//             </div>\n//                 </Col>\n//                 <Col lg='4'>\n//                 <Booking tour={tour} avgRating={avgRating}/>\n//                 </Col>\n//             </Row>\n//         </Container>\n//     </section>\n//     <Newsletter/>\n//     </>;\n// };\n// export default TourDetails;\n// import React, { useRef, useState, useContext } from \"react\";\n// import '../styles/tour-details.css';\n// import { Container, Row, Col, Form, ListGroup } from \"reactstrap\";\n// import { useParams, useNavigate } from \"react-router-dom\";\n// import tourData from '../assets/data/tours';\n// import calculateAvgRating from \"../utils/avgRating\";\n// import avatar from '../assets/images/avatar.jpg';\n// import Booking from \"../components/Booking/Booking\";\n// import Newsletter from \"../shared/Newsletter\";\n// import { AuthContext } from \"../context/AuthContext\"; // Import your Auth Context\n\n// const TourDetails = () => {\n//   const { id } = useParams();\n//   const reviewmsgRef = useRef('');\n//   const [tourRating, setTourRating] = useState(null);\n//   const { user } = useContext(AuthContext); // Use context to check if user is logged in\n//   const navigate = useNavigate();\n  \n//   // Static data, replace with your API call\n//   const tour = tourData.find(tour => tour.id === id);\n//   const { photo, title, desc, price, address, reviews, city, distance, maxGroupSize } = tour;\n//   const { totalRating, avgRating } = calculateAvgRating(reviews);\n\n//   const submitHandler = e => {\n//     e.preventDefault();\n//     const reviewtext = reviewmsgRef.current.value;\n//     alert(`${reviewtext} ${tourRating}`);\n//   };\n\n//   const handleBooking = () => {\n//     if (!user) {\n//       navigate('/login'); // Redirect to login if not logged in\n//     } else {\n//       navigate('/thank-you'); // Redirect to thank you page after booking\n//     }\n//   };\n\n//   return (\n//     <>\n//       <section>\n//         <Container>\n//           <Row>\n//             <Col lg=\"8\">\n//               <div className=\"tour_content\">\n//                 <img src={photo} alt=\"\" />\n//                 <div className=\"tour_info\">\n//                   <h2>{title}</h2>\n//                   <div className=\"d-flex align-items-center gap-5\">\n//                     <span className=\"tour__rating d-flex align-items-center gap-1\">\n//                       <i className=\"ri-star-fill\" style={{ color: \"var(--secondary-color)\" }}></i>\n//                       {avgRating === 0 ? null : avgRating}\n//                       {totalRating === 0 ? 'Not rated' : <span>({reviews?.length})</span>}\n//                     </span>\n//                     <span>\n//                       <i className=\"ri-map-pin-user-fill\"></i>{address}\n//                     </span>\n//                   </div>\n//                   <div className=\"tour__extra-details\">\n//                     <span>\n//                       <i className=\"ri-map-pin-2-line\"></i>{city}\n//                       <i className=\"ri-money-dollar-circle-fill\"></i>$ {price} /per person\n//                       <i className=\"ri-map-pin-time-line\"></i> {distance} KM\n//                       <i className=\"ri-group-line\"></i>{maxGroupSize} People\n//                     </span>\n//                   </div>\n//                   <h5>Description</h5>\n//                   <p>{desc}</p>\n//                 </div>\n//                 <div className=\"tour_reviews mt-4\">\n//                   <h4>Reviews ({reviews?.length} reviews)</h4>\n//                   <Form onSubmit={submitHandler}>\n//                     <div className=\"d-flex align-items-center gap-3 mb-4 rating_group\">\n//                       {[...Array(5)].map((_, index) => (\n//                         <span key={index + 1} onClick={() => setTourRating(index + 1)}>\n//                           {index + 1}<i className=\"ri-star-s-fill\"></i>\n//                         </span>\n//                       ))}\n//                     </div>\n//                     <div className=\"review__input\">\n//                       <input type=\"text\" ref={reviewmsgRef} placeholder=\"Share your thoughts\" required />\n//                       <button className=\"button btn primary__btn text-white\" type=\"submit\">Submit</button>\n//                     </div>\n//                   </Form>\n//                   <ListGroup className=\"user__reviews\">\n//                     {reviews?.map(review => (\n//                       <div className=\"review__item\" key={review.id}>\n//                         <img src={avatar} alt=\"\" />\n//                         <div className=\"w-100\">\n//                           <div className=\"d-flex align-items-center justify-content-between\">\n//                             <div>\n//                               <h5>Manmeet Kaur</h5>\n//                               <p>{new Date('09-03-2024').toLocaleDateString(\"en-US\", { day: \"numeric\", month: \"long\", year: \"numeric\" })}</p>\n//                             </div>\n//                             <span className=\"d-flex align-items-center\">\n//                               5<i className=\"ri-star-fill\"></i>\n//                             </span>\n//                           </div>\n//                           <h6>Amazing Tour</h6>\n//                         </div>\n//                       </div>\n//                     ))}\n//                   </ListGroup>\n//                 </div>\n//               </div>\n//             </Col>\n//             <Col lg='4'>\n//               <Booking tour={tour} avgRating={avgRating} onBooking={handleBooking} />\n//             </Col>\n//           </Row>\n//         </Container>\n//       </section>\n//       <Newsletter />\n//     </>\n//   );\n// };\n\n// export default TourDetails;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}